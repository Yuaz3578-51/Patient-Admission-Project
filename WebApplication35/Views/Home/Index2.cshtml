@{
    ViewData["Title"] = "General Info";
}

<h2>@ViewData["Title"]</h2>

<!-- Add a logout button -->
<form method="post" asp-controller="Home" asp-action="Logout">
    <button type="submit">Logout</button>
</form>

@if (ViewBag.ApplicationsData != null && ViewBag.ApplicationsData.Count > 0)
{
    <h3>Applications data from the database:</h3>
    <table>
        <thead>
            <tr>
                <th>AppID</th>
                <th>PatientID</th>
                <th>UnitID</th>
                <th>StaffID</th>
                <th>Record_Date</th>
                <th>Diagnosis_ID</th>
                <th>Diagnosis_Date</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var application in ViewBag.ApplicationsData)
            {
                <tr>
                    <td>@application.AppID</td>
                    <td>@application.PatientID</td>
                    <td>@application.UnitID</td>
                    <td>@application.StaffID</td>
                    <td>@application.Record_Date</td>
                    <td>@application.Diagnosis_ID</td>
                    <td>@application.Diagnosis_Date</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No applications data available.</p>
}

@if (ViewBag.PatientsData != null && ViewBag.PatientsData.Count > 0)
{
    <h3>Patients data from the database:</h3>
    <table>
        <thead>
            <tr>
                <th>PatientID</th>
                <th>PatientFName</th>
                <th>PatientLName</th>
                <th>PatientAddress</th>
                <th>PatientDateOfBirth</th>
                <th>PatientNumber</th>
                <th>PatientPhone</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var patient in ViewBag.PatientsData)
            {
                <tr>
                    <td>@patient.PatientID</td>
                    <td>@patient.PatientFName</td>
                    <td>@patient.PatientLName</td>
                    <td>@patient.PatientAddress</td>
                    <td>@patient.PatientDateOfBirth</td>
                    <td>@patient.PatientNumber</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No patients data available.</p>
}

<!-- Add the button to go to the AddPatient page -->
<a asp-controller="Home" asp-action="AddPatient" class="btn btn-primary">Add New Patient</a>


 
@if (ViewBag.PatientsData != null && ViewBag.PatientsData.Count > 0)
{
    <h3>Patients data from the database:</h3>
    <table>
        <thead>
            <tr>
                <th>PatientID</th>
                <th>PatientFName</th>
                <th>PatientLName</th>
                <th>PatientAddress</th>
                <th>PatientDateOfBirth</th>
                <th>PatientNumber</th>
                <th>PatientPhone</th>
                <th>Edit</th> <!-- Add a new column for the Edit button -->
            </tr>
        </thead>
        <tbody>
            @foreach (var patient in ViewBag.PatientsData)
            {
                <tr>
                    <td>@patient.PatientID</td>
                    <td>@patient.PatientFName</td>
                    <td>@patient.PatientLName</td>
                    <td>@patient.PatientAddress</td>
                    <td>@patient.PatientDateOfBirth</td>
                    <td>@patient.PatientNumber</td>
                    <td>@patient.PatientPhone</td>
                    <td>
                        <a asp-controller="Home" asp-action="EditPatient" asp-route-patientID="@patient.PatientID" class="btn btn-primary">Edit</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No patients data available.</p>
}

